(function(){var e={1526:function(e,a,t){"use strict";var s=t(7195),r=function(){var e=this,a=e._self._c;return a("div",{staticClass:"app"},[a("Galery-topbar"),a("router-view")],1)},i=[],n=function(){var e=this,a=e._self._c;return a("nav",{staticClass:"navbar"},[a("div",{staticClass:"container navbar__container"},[a("router-link",{staticClass:"navbar__brand",attrs:{to:{name:"home"}}},[a("img",{attrs:{src:t(2835)}})]),a("div",{staticClass:"navbar__item"},[a("router-link",{staticClass:"navbar__link",attrs:{to:{name:"liked"},exact:"","active-class":"active"}},[a("img",{staticClass:"icon",attrs:{src:t(258)}}),e._v("   Избранное ")])],1)],1)])},o=[],l={name:"GaleryTopbar"},g=l,c=t(1001),m=(0,c.Z)(g,n,o,!1,null,null,null),u=m.exports,d={name:"GaleryApp",components:{GaleryTopbar:u}},v=d,f=(0,c.Z)(v,r,i,!1,null,null,null),p=f.exports,I=t(2241),h=function(){var e=this,a=e._self._c;return a("div",{staticClass:"home"},[a("galery-search"),e.isLoading?a("galery-loader"):e._e(),a("div",{staticClass:"container home__container"},[e.images?a("galery-image-grid",{attrs:{images:e.images}}):e._e()],1)],1)},_=[],y=t(408),b=function(){var e=this,a=e._self._c;return a("div",{staticClass:"image-grid"},e._l(e.images,(function(e,t){return a("galery-image-card",{key:t,attrs:{image:e,"class-names":"thumb"}})})),1)},C=[],S=function(){var e=this,a=e._self._c;return a("router-link",{attrs:{to:{name:"details",params:{id:e.image.id}}}},[a("div",{staticClass:"image-card",class:e.classNames},[a("img",{attrs:{src:e.image.urls.regular,alt:"image.alt_description"}})])])},w=[],x={name:"GaleryImageCard",props:{image:{type:Object,required:!1},classNames:{type:String,required:!1}}},k=x,P=(0,c.Z)(k,S,w,!1,null,null,null),Z=P.exports,D={name:"GaleryImageGrid",props:{images:{type:[Array],required:!1}},components:{GaleryImageCard:Z}},G=D,L=(0,c.Z)(G,b,C,!1,null,null,null),R=L.exports,O=function(){var e=this;e._self._c;return e._m(0)},q=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"loader"},[a("div",{staticClass:"loader__container"},[a("img",{attrs:{src:t(8705),alt:""}})])])}],$={name:"GaleryLoader"},F=$,T=(0,c.Z)(F,O,q,!1,null,null,null),j=T.exports,N=function(){var e=this,a=e._self._c;return a("div",{staticClass:"search"},[a("div",{staticClass:"search--faded"},[a("div",{staticClass:"search__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Поиск"},domProps:{value:e.query},on:{input:function(a){a.target.composing||(e.query=a.target.value)}}})])])])},U=[];const B=(e,a)=>{let t=null;return function(){clearTimeout(t);let s=arguments,r=this;t=setTimeout((function(){e.apply(r,s)}),a)}};t(7658);var E=t(2584),M=t(8358);const K={apiUrl:"https://api.unsplash.com/",count:8,accessKey:"SxLPkP2m8bi6ON09LmTbA_xVFRfwq3Y8MFLudxY05Ts"};M.Z.defaults.baseURL=K.apiUrl;var V=M.Z;const A=()=>{const e="/photos/random",a=E.Z.parseUrl(e),t={client_id:K.accessKey,count:K.count,...a.query},s=E.Z.stringify(t),r=`${a.url}?${s}`;return V.get(r)},Y=e=>{const a="/search/photos",t=E.Z.parseUrl(a),s={client_id:K.accessKey,query:e,...t.query},r=E.Z.stringify(s),i=`${t.url}?${r}`;return V.get(i)},H=e=>{const a=`/photos/${e}`,t=E.Z.parseUrl(a),s={client_id:K.accessKey,...t.query},r=E.Z.stringify(s),i=`${t.url}?${r}`;return V.get(i)};var z={getRandomPhotos:A,searchPhotos:Y,getPhotoDetails:H};const J=()=>({isLoading:!1,images:[],selectedImage:null,savedImages:[]}),Q=J(),W={getRandomImagesStart:"[Images] getRandomImages start",getRandomImagesSuccess:"[Images] getRandomImages success",getRandomImagesFailure:"[Images] getRandomImages failure",searchImagesStart:"[Images] searchImages start",searchImagesSuccess:"[Images] searchImages success",searchImagesFailure:"[Images] searchImages failure",getImageDetailsStart:"[Images] getImageDetails start",getImageDetailsSuccess:"[Images] getImageDetails success",getImageDetailsFailure:"[Images] getImageDetails failure",saveImage:"[Images] saveImage"},X={getRandomImages:"[Images] Get Random Images",searchImages:"[Images] Search Images",getImageDetails:"[Images] Get Image Details",saveImage:"[Images] Save Image"},ee={images:"[Images] Images",selectedImage:"[Images] Selected Image",savedImages:"[Images] Saved Images",getSavedImages:"[Images] Get Saved Images"},ae={[ee.randomImages]:e=>e.randomImages,[ee.selectedImage]:e=>e.selectedImage,[ee.savedImages]:e=>e.savedImages,[ee.getSavedImages]:e=>Boolean(e.savedImages.find((a=>a.id===e.selectedImage.id)))},te={[W.getRandomImagesStart](e){e.images=null,e.isLoading=!0,e.validationErrors=null},[W.getRandomImagesSuccess](e,a){e.images=a,e.isLoading=!1},[W.getRandomImagesFailure](e){e.isLoading=!1},[W.searchImagesStart](e){e.images=null,e.isLoading=!0,e.validationErrors=null},[W.searchImagesSuccess](e,a){e.images=a,e.isLoading=!1},[W.searchImagesFailure](e){e.isLoading=!1},[W.getImageDetailsStart](e){e.images=null,e.selectedImage=null,e.isLoading=!0,e.validationErrors=null},[W.getImageDetailsSuccess](e,a){e.selectedImage=a,e.isLoading=!1},[W.getImageDetailsFailure](e){e.isLoading=!1},[W.saveImage](e){const a=e.savedImages.findIndex((a=>a.id===e.selectedImage.id));~a?e.savedImages.splice(a,1):e.savedImages.push(e.selectedImage)}},se={[X.getRandomImages](e){return new Promise((a=>{e.commit(W.getRandomImagesStart),z.getRandomPhotos().then((t=>{e.commit(W.getRandomImagesSuccess,t.data),a(t.data)})).catch((a=>{console.log(a),e.commit(W.getRandomImagesFailure)}))}))},[X.searchImages](e,a){return new Promise((t=>{e.commit(W.searchImagesStart),z.searchPhotos(a).then((a=>{e.commit(W.searchImagesSuccess,a.data.results),t(a.data.results)})).catch((a=>{console.log(a),e.commit(W.searchImagesFailure)}))}))},[X.getImageDetails](e,a){return new Promise((t=>{e.commit(W.getImageDetailsStart),z.getPhotoDetails(a).then((a=>{e.commit(W.getImageDetailsSuccess,a.data),t(a.data)})).catch((a=>{console.log(a),e.commit(W.getImageDetailsFailure)}))}))},[X.saveImage](e,a){return new Promise((t=>{e.commit(W.saveImage,a),t(a)}))}};var re={state:Q,mutations:te,actions:se,getters:ae},ie={name:"GalerySearch",data(){return{query:""}},watch:{query:B((function(e){this.$store.dispatch(X.searchImages,e)}),1e3)}},ne=ie,oe=(0,c.Z)(ne,N,U,!1,null,null,null),le=oe.exports,ge={name:"HomeView",components:{GaleryImageGrid:R,GalerySearch:le,GaleryLoader:j},computed:{...(0,y.rn)({images:e=>e.images.images,isLoading:e=>e.images.isLoading})},mounted(){this.$store.dispatch(X.getRandomImages)}},ce=ge,me=(0,c.Z)(ce,h,_,!1,null,null,null),ue=me.exports,de=function(){var e=this,a=e._self._c;return a("div",{staticClass:"details"},[e.isLoading?a("galery-loader"):e._e(),e.image?a("div",{staticClass:"details__bg",style:{"background-image":`url(${e.image?.urls?.regular}) `}}):e._e(),e.image?a("div",{staticClass:"container details__container"},[a("div",{staticClass:"details__info"},[a("div",{staticClass:"user"},[a("div",{staticClass:"user__icon"},[a("img",{attrs:{src:e.image.user?.profile_image.medium,alt:"image.alt_description"}})]),a("div",{staticClass:"user__info"},[a("span",[e._v(e._s(e.image.user?.name))]),a("span",[e._v("@"+e._s(e.image.user?.username))])])]),a("div",{staticClass:"details__actions"},[a("galery-favourite-button",{attrs:{liked:e.liked},on:{onToggle:e.toggle}}),a("galery-download-button",{on:{onClick:e.download}})],1)]),a("div",{staticClass:"details__image"},[a("galery-image-card",{attrs:{image:e.image,classNames:"card-shadow"}})],1)]):e._e()],1)},ve=[],fe=function(){var e=this,a=e._self._c;return a("button",{staticClass:"btn fav-btn",on:{click:e.favToggle}},[a("img",{staticClass:"icon",attrs:{src:e.imagePath}})])},pe=[],Ie={name:"GaleryFavouriteButton",props:{liked:{type:Boolean,required:!0},classNames:{type:String,required:!1}},computed:{imagePath(){return t(9866)(`./${this.liked?"fav-active":"fav-black"}.svg`)}},methods:{favToggle(){this.$emit("onToggle")}}},he=Ie,_e=(0,c.Z)(he,fe,pe,!1,null,null,null),ye=_e.exports,be=function(){var e=this,a=e._self._c;return a("button",{staticClass:"btn download-btn",on:{click:e.download}},[a("img",{attrs:{src:t(3694),alt:""}}),e._v("   Download ")])},Ce=[],Se={name:"GaleryDownloadButton",props:{classNames:{type:String,required:!1}},methods:{download(){this.$emit("onClick")}}},we=Se,xe=(0,c.Z)(we,be,Ce,!1,null,null,null),ke=xe.exports,Pe={name:"DetailsView",components:{GaleryImageCard:Z,GaleryFavouriteButton:ye,GaleryDownloadButton:ke,GaleryLoader:j},computed:{...(0,y.rn)({image:e=>e.images.selectedImage,isLoading:e=>e.images.isLoading,savedImages:e=>e.images.savedImages}),...(0,y.Se)({liked:ee.getSavedImages}),photoId(){return this.$route.params.id}},mounted(){this.$store.dispatch(X.getImageDetails,this.photoId)},methods:{toggle(){console.log("savedImages",this.savedImages),console.log("image",this.image),this.$store.dispatch(X.saveImage,this.image)},download(){alert("Download")}}},Ze=Pe,De=(0,c.Z)(Ze,de,ve,!1,null,null,null),Ge=De.exports,Le=function(){var e=this,a=e._self._c;return a("div",{staticClass:"favourites"},[a("div",{staticClass:"container favourites__container"},[a("h1",[e._v("Избранное")]),e.savedImages.length>0?a("galery-image-grid",{attrs:{images:e.savedImages}}):a("h1",[e._v("Список избранных пуст")])],1)])},Re=[],Oe={name:"FavouritesView",components:{GaleryImageGrid:R},computed:{...(0,y.rn)({savedImages:e=>e.images.savedImages})}},qe=Oe,$e=(0,c.Z)(qe,Le,Re,!1,null,null,null),Fe=$e.exports;s.ZP.use(I.ZP);const Te=[{path:"/",name:"home",component:ue},{path:"/liked",name:"liked",component:Fe},{path:"/photo/:id",name:"details",component:Ge}],je=new I.ZP({routes:Te});var Ne=je;s.ZP.use(y.ZP);var Ue=new y.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{images:re}});s.ZP.config.productionTip=!1,new s.ZP({router:Ne,store:Ue,render:e=>e(p)}).$mount("#app")},9866:function(e,a,t){var s={"./download.svg":3694,"./fav-active.svg":3536,"./fav-black.svg":6781,"./fav.svg":258,"./loader.svg":355,"./logo.svg":2835};function r(e){var a=i(e);return t(a)}function i(e){if(!t.o(s,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id=9866},3694:function(e,a,t){"use strict";e.exports=t.p+"img/download.028b25f8.svg"},3536:function(e,a,t){"use strict";e.exports=t.p+"img/fav-active.f89525cf.svg"},6781:function(e,a,t){"use strict";e.exports=t.p+"img/fav-black.d945e263.svg"},258:function(e,a,t){"use strict";e.exports=t.p+"img/fav.856bc7ab.svg"},355:function(e,a,t){"use strict";e.exports=t.p+"img/loader.229f3b5b.svg"},2835:function(e,a,t){"use strict";e.exports=t.p+"img/logo.5cff59de.svg"},8705:function(e,a,t){"use strict";e.exports=t.p+"img/loading-gif.a1045b22.gif"}},a={};function t(s){var r=a[s];if(void 0!==r)return r.exports;var i=a[s]={exports:{}};return e[s](i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(a,s,r,i){if(!s){var n=1/0;for(c=0;c<e.length;c++){s=e[c][0],r=e[c][1],i=e[c][2];for(var o=!0,l=0;l<s.length;l++)(!1&i||n>=i)&&Object.keys(t.O).every((function(e){return t.O[e](s[l])}))?s.splice(l--,1):(o=!1,i<n&&(n=i));if(o){e.splice(c--,1);var g=r();void 0!==g&&(a=g)}}return a}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,r,i]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/unsplash_vue/"}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,s){var r,i,n=s[0],o=s[1],l=s[2],g=0;if(n.some((function(a){return 0!==e[a]}))){for(r in o)t.o(o,r)&&(t.m[r]=o[r]);if(l)var c=l(t)}for(a&&a(s);g<n.length;g++)i=n[g],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},s=self["webpackChunkgalery"]=self["webpackChunkgalery"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=t.O(void 0,[998],(function(){return t(1526)}));s=t.O(s)})();
//# sourceMappingURL=app.5c7bae0c.js.map